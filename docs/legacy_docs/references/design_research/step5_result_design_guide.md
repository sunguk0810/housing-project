# Step 7. 결과 화면 UI 설계 — 추천 단지 리스트 + 상세 점수

Status: in_progress  
Owner: sungwookhwang  
Date: 2026-02-13

기준 문서:
- `docs/planning/step2_ux_principle.md`
- `docs/planning/step3_design_system_basic.md`
- `docs/planning/step6_compliance_ux_design_guide.md`
- `docs/planning/step6_compliance_ux_guide.jsx`

> 목적: 조건 부합 단지 분석 결과를 리스트·지도·점수 시각화·상세·비교 5개 뷰로 구성하여,  
> 신혼부부가 자신에게 맞는 단지를 탐색·비교·공유할 수 있는 결과 화면을 설계한다.  
> 모든 설계는 디자인 시스템(step3)과 규제 준수 가이드(step6)를 따른다.

---

## 0) 설계 원칙 요약

| 원칙 | 설명 | 근거 문서 |
| --- | --- | --- |
| 모바일 퍼스트 | 390px 기준 설계 후 데스크톱 확장 | step3 §6 |
| 점수는 이야기다 | 숫자 + 라벨 + 요인 분해 + 백분위 4층 구조 | step2 §4 |
| 긍정적 프레이밍 | 안전 점수는 "안전 편의시설 현황"으로 표현, 부정 표현 금지 | step6 §4 |
| 실거래가 = 신뢰 | 모든 가격 정보에 국토교통부 실거래가 출처·기준일 명시 | step2 §5, step6 §3 |
| 면책 5접점 배치 | 랜딩·입력·결과·외부이동·약관에 면책 고지 자연스럽게 통합 | step6 §6 |
| 색맹 안전 | 블루-오렌지 다이버징 5단계 + 텍스트 라벨 병행 | step3 §2 |
| 금지 용어 준수 | "추천" → "분석 결과 안내", "매물" → "단지" 등 step6 §1 기준 적용 | step6 §1 |

---

## 1) 데이터 구조

각 분석 결과 단지는 다음 정보를 포함한다.

### 1-1. 기본 정보

| 필드 | 타입 | 설명 |
| --- | --- | --- |
| 단지명 | string | 아파트 단지 이름 |
| 주소 | string | 시·구·동 단위 주소 |
| 세대수 | number | 총 세대 수 |
| 준공년도 | number | 건축 완공 연도 |
| 전용면적 | string | 분석 대상 면적 (예: 84㎡) |

### 1-2. 가격 정보

| 필드 | 타입 | 설명 | 출처 |
| --- | --- | --- | --- |
| 매매 실거래가 범위 | string | 최근 6개월 거래 범위 | 국토교통부 실거래가 |
| 전세 실거래가 범위 | string | 최근 6개월 거래 범위 | 국토교통부 실거래가 |
| 월세 범위 | string | 보증금/월세 형태 | 국토교통부 실거래가 |

### 1-3. 점수 체계

| 점수 | 범위 | 산출 기준 | 프레이밍 주의사항 |
| --- | --- | --- | --- |
| 종합 점수 | 0~100 | 4개 카테고리 가중 합산 | — |
| 예산 적합도 | 0~100 | 보유현금 + 예상 대출 범위 대비 가격 적합도 | "예산 적정" 사용 금지 → "참고 범위 이내" |
| 통근 편의 | 0~100 | 직장1·직장2 가중 평균 대중교통 소요시간 기반 | — |
| 보육 인프라 | 0~100 | 반경 1km 어린이집·유치원·초등학교 접근성 | — |
| 안전 편의시설 | 0~100 | CCTV·가로등·경찰서 등 안전 인프라 현황 | "치안 위험" 금지 → "안전 편의시설 현황" |

### 1-4. 통근 정보

| 필드 | 타입 | 설명 | 출처 |
| --- | --- | --- | --- |
| 직장1 소요시간 | number (분) | 대중교통 기준 통근시간 | ODsay 경로 API |
| 직장2 소요시간 | number (분) | 대중교통 기준 통근시간 | ODsay 경로 API |

### 1-5. 점수 등급 체계

블루-오렌지 다이버징 5단계 스케일을 적용한다 (step3 §2 기준, 색맹 안전).

| 등급 | 점수 범위 | 한국어 라벨 | HEX | 배지 |
| --- | --- | --- | --- | --- |
| Excellent | 80~100 | 매우 좋음 | #1565C0 (딥 블루) | A+ |
| Good | 60~79 | 좋음 | #42A5F5 (라이트 블루) | A |
| Average | 40~59 | 보통 | #90A4AE (뉴트럴 그레이블루) | B |
| Below Avg | 20~39 | 미흡 | #FF8A65 (소프트 오렌지) | C |
| Poor | 0~19 | 부족 | #D84315 (딥 오렌지) | D |

색상 외에 반드시 텍스트 라벨(A+/A/B/C/D)을 병행하여 색상만으로 정보를 전달하지 않는다 (WCAG 1.4.1).

---

## 2) 리스트 뷰

### 2-1. 레이아웃

| 환경 | 레이아웃 | 카드 너비 |
| --- | --- | --- |
| 모바일 (< 640px) | 1열 풀 와이드 | 100% (좌우 16px 패딩) |
| 태블릿 (640~1023px) | 2열 그리드 | ~340px |
| 데스크톱 (≥ 1024px) | 2열 그리드 (지도 스플릿 시 1열) | ~340px |

### 2-2. 카드 정보 우선순위

카드에 노출할 정보의 우선순위를 다음과 같이 설정한다. 모바일 작은 화면에서도 핵심 정보가 즉시 파악되어야 한다.

**1순위 (항상 노출):**

| 정보 | 위치 | 스타일 |
| --- | --- | --- |
| 순위 배지 (1, 2, 3…) | 좌상단 | 상위 3개는 코랄 배경, 이하 회색 |
| 단지명 | 순위 배지 오른쪽 | 16px Bold(700) |
| 종합 점수 원형 게이지 | 우상단 | 64px 원형 게이지 + 숫자 |

**2순위 (핵심 정보):**

| 정보 | 위치 | 스타일 |
| --- | --- | --- |
| 주소 | 단지명 하단 | 12px 보조 텍스트 |
| 세대수 · 준공년도 · 면적 | 주소 하단 | 11px 그레이, dot 구분 |
| 매매 실거래가 | 가격 영역 | 13px Bold |
| 전세 실거래가 | 매매 오른쪽 | 13px SemiBold |

**3순위 (카테고리 점수):**

| 정보 | 위치 | 스타일 |
| --- | --- | --- |
| 예산·통근·보육·안전 점수 | 2×2 그리드 | 아이콘 + 라벨 + 숫자(등급색) |

**4순위 (하단 액션 영역):**

| 정보 | 위치 | 스타일 |
| --- | --- | --- |
| 직장1·2 통근시간 | 좌측 | 12px, 🏢 아이콘 + 분 |
| "+ 비교" 버튼 | 우측 | 아웃라인 버튼, 선택 시 코랄 |

### 2-3. 정렬 옵션

| 정렬 키 | 라벨 | 정렬 방향 | 기본값 |
| --- | --- | --- | --- |
| totalScore | 종합 점수순 | 내림차순 | ✓ (기본) |
| budgetScore | 예산 적합도순 | 내림차순 | |
| commute1 | 통근 시간순 | 오름차순 | |

정렬 UI는 수평 칩 형태로 배치하며, 선택된 칩은 브랜드 컬러(#0891B2) 배경으로 활성 상태를 표시한다.

### 2-4. 페이지네이션 방식 — "더 보기" 버튼

무한 스크롤, 페이지네이션, "더 보기" 버튼 중 **"더 보기" 버튼** 방식을 채택한다.

| 방식 | 장점 | 단점 | 채택 여부 |
| --- | --- | --- | --- |
| 무한 스크롤 | 탐색 흐름 유지 | 푸터 접근 불가, 위치 복귀 어려움 | ✕ |
| 페이지네이션 | 위치 명확, URL 공유 가능 | 탐색 흐름 끊김 | ✕ |
| **"더 보기" 버튼** | **흐름 유지 + 사용자 통제** | 버튼 클릭 필요 | **✓ 채택** |

채택 근거: 부동산 탐색은 고관여 의사결정으로 사용자가 현재 위치를 인지하고 있어야 한다. "더 보기" 버튼은 탐색 흐름을 유지하면서도 사용자에게 통제권을 부여한다. 버튼 하단에 "조건에 맞는 총 N개 단지 중 M개 표시 중" 진행 상태를 함께 표시한다.

### 2-5. 결과 상단 필수 표시 요소 (step6 §7 준수)

```
[📊 공공데이터 기반] [참고용 정보]    ← 인라인 태그 (컨텍스트 내장형 면책)
분석 결과  5개 단지                   ← 결과 수 표시
종합 점수순 | 예산 적합도순 | 통근 시간순  ← 정렬 칩
```

---

## 3) 지도 뷰

### 3-1. 데스크톱 스플릿 레이아웃

| 비율 | 영역 | 최소 너비 |
| --- | --- | --- |
| 60% | 지도 | — |
| 40% | 리스트 패널 | 480px |

1024px 미만에서는 지도 전체 화면 + 3단 바텀시트로 전환 (step3 §6 기준).

### 3-2. 마커 디자인

**가격 라벨 핀 대신 점수 라벨 핀을 사용한다.** 서비스의 핵심이 점수 기반 분석이므로, 가격보다 종합 점수를 마커에 표시하는 것이 서비스 목적에 부합한다 (step3 §5 근거).

**마커 상태 3단계:**

| 상태 | 배경 | 텍스트 | 크기 | 그림자 |
| --- | --- | --- | --- | --- |
| Default | #FFFFFF | 점수 등급 컬러 | 1.0x | 0 2px 8px rgba(0,0,0,0.12) |
| Selected/Hovered | 점수 등급 컬러 | #FFFFFF | 1.15x | 0 4px 16px {color}40 |
| Visited | #FFFFFF (70% opacity) | 점수 등급 컬러 | 1.0x | 0 1px 4px rgba(0,0,0,0.08) |

**마커 구성:**

```
┌─────────────┐
│ ● 87점      │  ← 점수 등급 원형 인디케이터 + 점수 숫자
└──────┬──────┘
       ▽          ← 하단 삼각형 포인터
```

마커 크기: 시각적 아이콘 30~34px, 터치 영역(padding 포함) 44~48px 확보 (WCAG 2.5.5).

**점수 등급별 마커 색상:** 5단계 블루-오렌지 다이버징 스케일 적용 (§1-5 점수 등급 체계 참조).

### 3-3. 직장 마커

두 직장 위치를 지도에 상시 표시한다.

```
┌───────────┐
│ 🏢 직장 1  │  ← 다크 배경(#1C1917) + 흰 텍스트
└─────┬─────┘
      ▽
```

통근 경로 시각화는 MVP에서는 마커만 표시하고, 추후 대중교통 라인 오버레이를 추가한다. Trulia 패턴 참고하여 통근·보육·안전을 토글 가능한 데이터 레이어로 확장 예정.

### 3-4. 마커 클릭 시 미니 카드 프리뷰

마커 탭 시 280~320px × 140px 미니 카드가 slide-up 으로 표시된다 (200~300ms, cubicBezier(0.33,1,0.68,1)).

**미니 카드 정보 구성:**

| 요소 | 스타일 |
| --- | --- |
| 단지명 | 14px Bold |
| 주소 | 11px 보조 텍스트 |
| 종합 점수 게이지 | 48px 원형 게이지 |
| 매매가 | 12px Bold |
| 직장1·2 통근시간 | 11px, 🏢 아이콘 |
| "상세 보기" CTA | 브랜드 컬러 버튼 |
| "+ 비교" 버튼 | 아웃라인 버튼 |

카드 표시 위치 보정: 화면 상단 근접 시 마커 아래로, 좌우 근접 시 수평 오프셋 조정.

### 3-5. 지도-리스트 연동 (양방향 싱크)

Airbnb 패턴을 적용한다 (step2 §3 근거).

| 동작 | 결과 |
| --- | --- |
| 리스트 카드 hover | 해당 마커가 Selected 상태로 하이라이트 (1.15x scale) |
| 마커 클릭 | 해당 카드로 자동 스크롤 + 미니 프리뷰 표시 |
| 바텀시트 카드 스와이프 | 해당 마커 하이라이트 (모바일) |

### 3-6. 모바일 지도-리스트 전환

3단 넌모달 바텀시트를 사용한다 (step2 §3, step3 §6 기준).

| 상태 | 화면 비율 | 높이 | 콘텐츠 |
| --- | --- | --- | --- |
| Peek | ~25% | 100~160px | 드래그 핸들 + 검색바 + "N건" 결과 수 |
| Half | ~50% | 350~400px | 카드 2~3개 (가로 캐러셀 스와이프) |
| Expanded | ~90% | safe-area 제외 전체 | 전체 리스트 + 정렬/필터 |

핵심: 바텀시트가 올라와 있어도 지도 인터랙션이 항상 가능해야 한다 (넌모달). 그랩 핸들(40×4px)과 X 닫기 버튼을 동시 제공한다.

### 3-7. 범례

지도 좌하단에 점수 등급 범례를 항상 표시한다.

```
● 매우 좋음  ● 좋음  ● 보통
```

반투명 배경(rgba(255,255,255,0.92)) + backdrop-blur로 지도 위에 자연스럽게 배치.

---

## 4) 점수 시각화 — 방식 비교 평가 및 최적 조합

### 4-1. 시각화 방식 비교 평가

6가지 시각화 방식을 모바일 가독성, 비교 가능성, 구현 복잡도, 색맹 접근성 4개 기준으로 평가한다.

| 시각화 방식 | 모바일 가독성 | 비교 가능성 | 구현 복잡도 | 색맹 접근성 | 종합 |
| --- | --- | --- | --- | --- | --- |
| **수평 바 차트** | ★★★★★ | ★★★★☆ | ★★★★★ (Tailwind 단독) | ★★★★★ | **최적** |
| **원형 게이지** | ★★★☆☆ | ★★☆☆☆ | ★★★★☆ (SVG) | ★★★★★ | **종합 점수 전용** |
| 레이더 차트 | ★★★☆☆ | ★★★★★ | ★★★☆☆ (Recharts) | ★★★★☆ | 비교 전용 |
| 도넛 차트 | ★★★☆☆ | ★★☆☆☆ | ★★★☆☆ (Recharts) | ★★★☆☆ | 비추천 |
| 숫자+배지 (미니멀) | ★★★★★ | ★★★☆☆ | ★★★★★ (순수 CSS) | ★★★★★ | 보조 |
| 아이콘 (★★★☆☆) | ★★★★☆ | ★★☆☆☆ | ★★★★★ | ★★☆☆☆ | 비추천 |

### 4-2. 최적 조합 결론

**원형 게이지 (종합 점수) + 수평 바 차트 (카테고리별)** 조합을 채택한다.

| 용도 | 시각화 | 크기 | 라이브러리 |
| --- | --- | --- | --- |
| 종합 점수 (1개) | 원형 게이지 (SVG) | 80~96px | 순수 SVG (외부 라이브러리 불필요) |
| 카테고리별 점수 (4개) | 수평 바 차트 | 높이 8px, 전체 너비 | Tailwind CSS (외부 라이브러리 불필요) |
| 2~3개 단지 비교 | 레이더 차트 | 최소 200×200px | Recharts |

채택 근거:
- 토스 신용점수 UI 패턴(반원형 게이지 + 큰 숫자)이 CVR 21.9% 상승을 검증 (step3 §4)
- 수평 바는 375px 모바일에서 343px 사용 가능(양쪽 16px 패딩 제외)하여 가독성 최고 (step3 §4)
- 블루-오렌지 다이버징 색상이 적녹색맹 안전 (step3 §2)
- Tailwind CSS만으로 구현 가능하여 번들 사이즈 최소화

### 4-3. 수평 바 상세 사양

| 속성 | 값 |
| --- | --- |
| 바 높이 | 8px (카드 내 compact: 6px) |
| 바 모서리 | border-radius: 99px (pill) |
| 바 배경 | #F5F5F4 (Stone-100) |
| 바 채움 | 점수 등급 색상 gradient (ColorCC → Color) |
| 바 간격 | 14px (compact: 8px) |
| 라벨 위치 | 바 상단 좌측: 아이콘 + 카테고리명, 우측: 숫자 + 배지 |
| 애니메이션 | width transition 0.8s cubic-bezier(0.16,1,0.3,1) |

### 4-4. 원형 게이지 상세 사양

| 속성 | 값 |
| --- | --- |
| 크기 | 리스트 카드: 64px, 상세 Hero: 80~96px, 미니: 36~48px |
| 스트로크 너비 | 6px |
| 배경 링 | #F5F5F4 |
| 채움 링 | 점수 등급 색상 |
| 숫자 폰트 | size × 0.3, fontWeight 800, tabular-nums |
| 애니메이션 | 카운트업 0→목표값, 800ms, easeOutExpo |

### 4-5. 점수 옆 ⓘ 요인 분해 (step6 §3-3 준수)

Walk Score 신뢰 구축 방식을 참고한 3단계 계층적 공개:

| 단계 | 트리거 | 콘텐츠 |
| --- | --- | --- |
| 1단계 | 점수 옆 ⓘ 아이콘 탭 | 1줄 요약 (예: "지하철 접근성·환승 횟수·혼잡도 기반") |
| 2단계 | 확장 패널 | 요인별 기여도 (+/- 점수 분해) |
| 3단계 | "전체 방법론 보기" 링크 | 별도 페이지 (가중치·데이터 소스·계산 공식) |

요인 기여도 표시 예시:

```
통근 편의 점수: 82점
├ 🚇 지하철 도보 5분        +15
├ 🔄 배우자 직장 환승 1회    +12
├ 🚌 버스 노선 다양         +8
└ ⏰ 출근 시간대 혼잡        -8     ← 감점 요인도 투명 공개 (Why-Not)
```

감점 요인(Why-Not)은 부정적 프레이밍이 아닌 **사실 기반 참고 사항**으로 표현한다 (step6 §7).

---

## 5) 단지 상세 페이지

### 5-1. 정보 섹션 구성 순서

| 순서 | 섹션 | 핵심 콘텐츠 |
| --- | --- | --- |
| 1 | Hero | 단지명, 주소, 종합 점수 게이지(80px), 백분위, 등급 라벨 |
| 2 | 카테고리별 점수 | 4개 수평 바 + ⓘ 요인 분해 |
| 3 | 실거래가 정보 | 매매·전세·월세 3열 그리드 + 출처·기준일 + 면책 |
| 4 | 통근 분석 | 직장1·2 소요시간 카드 + 요인 기여도 리스트 |
| 5 | 보육 인프라 | 보육 점수 바 + 어린이집·유치원·초등 수량·거리 |
| 6 | 안전 편의시설 현황 | 개별 지표 수평 바 + 서울시 평균 대비 + 종합 백분위 |
| 7 | 외부 매물 CTA | "외부 매물 보러가기 ↗ 네이버 부동산" 버튼 |

### 5-2. Hero 영역

```
┌─────────────────────────────────────────────┐
│  [📊 공공데이터 기반] [참고용 정보]             │ ← 면책 태그 (step6 §6-③)
│                                             │
│  래미안 블레스티지                    ┌──────┐ │
│  서울 서초구 반포동 20-1             │  87  │ │ ← 80px 원형 게이지
│                                    │ /100 │ │
│  종합 점수                          └──────┘ │
│  87 /100                                    │
│  수도권 상위 8% · 매우 좋음                    │ ← 백분위 + 등급 라벨
└─────────────────────────────────────────────┘
```

배경: 브랜드 그라데이션 (brand900 → brand700).

### 5-3. 실거래가 섹션

3열 그리드로 매매·전세·월세를 나란히 표시한다.

**필수 표시 요소:**
- 데이터 출처: "📊 국토교통부 실거래가"
- 기준일: "2026.02 기준"
- 갱신 주기: "실거래 반영까지 최대 30일 소요"

**금융 시뮬레이션 면책 메시지** (step6 §3-4 준수):

```
ℹ️ 참고용 시뮬레이션이며 실제 대출 승인 금액과 다를 수 있습니다.
정확한 한도는 금융기관에서 확인해주세요.
```

회색 톤의 보조 영역에 배치하여 시각적 부담 최소화.

### 5-4. 통근 분석 섹션

| 구성 요소 | 설명 |
| --- | --- |
| 직장1·2 카드 | 2열, 각각 소요시간(24px Bold) + "대중교통 기준" |
| 점수 산출 요인 | 리스트 형태 (+/- 점수 표시) |
| 데이터 출처 | "🚇 ODsay 경로 API 기준 · 평일 오전 8시 출발 기준" |

### 5-5. 보육 인프라 섹션

| 구성 요소 | 설명 |
| --- | --- |
| 보육 점수 수평 바 | 0~100 점수 + 등급 배지 |
| 시설 현황 | 3열 그리드: 어린이집·유치원·초등학교 (수량 + 도보 거리) |
| 데이터 출처 | "🏫 공공데이터포털 보육시설 · 반경 1km 기준" |

### 5-6. 안전 편의시설 현황 섹션 (step6 §4 전면 준수)

**프레이밍 원칙:**
- 섹션 타이틀: **"안전 편의시설 현황"** (고정, "치안" 사용 금지)
- 모든 지표는 시설 수량·거리·밀집도 등 긍정적 지표로 표현
- 비교 기준: "서울시 평균 대비" (절대적 단정 표현 금지)
- 색상: 80%+ 녹색(#4CAF50), 60~79% 주황(#FF9800), 60% 미만 회색(#9E9E9E) — **빨강 사용 금지**

**표시 지표:**

| 지표 | 표시 형식 | 비교 기준 |
| --- | --- | --- |
| CCTV 수 | N대 (평균 N대) + 수평 바 | 서울시 평균 대비 % |
| 가로등 밀집도 | 상위 N% + 수평 바 | 서울시 평균 대비 % |
| 가장 가까운 경찰서 | Nm (평균 Nm) + 수평 바 | 서울시 평균 대비 % |
| 비상벨 수 | N개 (평균 N개) + 수평 바 | 서울시 평균 대비 % |

**종합 안내:**

```
안전 인프라 종합 — 수도권 상위 N%
출처: 경찰청 생활안전지도 · 서울시 안전환경 데이터 · 기준일 2026.01
```

### 5-7. 외부 매물 CTA (step6 §5 전면 준수)

**CTA 버튼 구성:**

```
┌─────────────────────────────────────────────┐
│  외부 매물 보러가기    ↗  네이버 부동산        │ ← 브랜드 컬러 버튼
└─────────────────────────────────────────────┘
외부 사이트로 이동합니다                          ← 하단 보조 텍스트
```

**클릭 시 외부 이동 확인 모달:**

```
┌─────────────────────────────────────────────┐
│  ↗ 외부 사이트로 이동합니다                    │
│                                             │
│  네이버 부동산의 매물 상세 페이지로 이동합니다.  │
│  해당 페이지의 정보는 네이버 부동산이 제공하며,  │
│  본 서비스와 무관합니다.                       │
│                                             │
│  ┌─────────────────────────────────────────┐│
│  │ 본 서비스는 정보 분석 플랫폼이며           ││ ← 면책 영역 (회색 톤)
│  │ 부동산 중개 서비스가 아닙니다.             ││
│  │ 매물 정보의 정확성은 해당 외부 사이트에서   ││
│  │ 확인해주세요.                            ││
│  └─────────────────────────────────────────┘│
│                                             │
│  [취소]  [네이버 부동산으로 이동 ↗]           │
└─────────────────────────────────────────────┘
```

**금지 CTA 패턴:** "매물 문의하기", "중개사에게 연락", "바로 계약 상담", "바로 연결", "전화하기" — 모두 사용 금지 (step6 §5-5).

### 5-8. "비교함에 추가" 인터랙션

| 동작 | 결과 |
| --- | --- |
| "비교함에 추가" 버튼 탭 | 토스트 "비교 목록에 추가되었습니다" (2초) |
| 하단 sticky 비교 바 | 높이 64~80px, 배지 업데이트 |
| 최대 초과 (4개째 추가 시도) | 토스트 "최대 3개까지 비교 가능합니다" |
| 비교 바 "비교하기" 버튼 | 비교 뷰로 이동 |

모바일 최대 **3개**, 데스크톱 최대 **4개**로 제한 (step3 §7).

---

## 6) 비교 기능

### 6-1. 나란히 비교 테이블

2~3개 단지를 열 방향으로 배치하여 모든 항목을 행 단위로 비교한다.

**테이블 구조:**

| 행 | 좌측 라벨 (120px) | 단지 A | 단지 B | 단지 C |
| --- | --- | --- | --- | --- |
| Header | — | 단지명 + 게이지(36px) | 단지명 + 게이지(36px) | 단지명 + 게이지(36px) |
| 1 | 매매가 | 22~26억 | 18~21억 | 14~16억 |
| 2 | 전세가 | 12~14억 | 9~11억 | 7~9억 |
| 3 | 직장1 통근 | 28분 | 35분 | **22분** ← 더 좋음 |
| 4 | 직장2 통근 | 42분 | **38분** ← 더 좋음 | 48분 |
| 5 | 💰 예산 적합도 | 72 A | **81 A+** ← 더 좋음 | 88 A+ |
| 6 | 🚇 통근 편의 | **91 A+** ← 더 좋음 | 78 A | 85 A+ |
| 7 | 👶 보육 인프라 | 85 A+ | **90 A+** ← 더 좋음 | 68 A |
| 8 | 🛡️ 안전 편의시설 | **88 A+** ← 더 좋음 | 84 A+ | 75 A |

### 6-2. "이 단지가 더 좋음" 하이라이트

| 항목 | 하이라이트 조건 | 표시 방식 |
| --- | --- | --- |
| 점수 항목 | 해당 행에서 최고 점수 단지 | 셀 배경 brand500/8% + "더 좋음" 텍스트 (9px, brand500) |
| 통근 시간 | 해당 행에서 최소 시간 단지 | 동일 |
| 가격 | 하이라이트 없음 | 가격은 선호에 따라 다르므로 하이라이트 미적용 |

동점인 경우 하이라이트를 표시하지 않는다.

### 6-3. 레이더 차트 비교 (비교 뷰 전용)

레이더 차트는 2~3개 단지 비교에만 사용한다 (step2 §4 근거: 3개 이상 겹치면 가독성 급락).

| 속성 | 값 |
| --- | --- |
| 크기 | 최소 200×200px |
| 축 수 | 4축 (예산·통근·보육·안전) |
| 단지 색상 | brand500(#0891B2), coral(#F97316), purple(#8B5CF6) |
| 채움 투명도 | 10% |
| 스트로크 너비 | 2px |
| 라이브러리 | Recharts RadarChart |

하단에 범례(단지명 + 색상 원형 인디케이터)를 배치한다.

### 6-4. 모바일 비교 UX

| 방식 | 장점 | 단점 | 채택 |
| --- | --- | --- | --- |
| 스와이프 | 직관적, 한 단지에 집중 | 동시 비교 어려움 | **✓ 기본** |
| 탭 | 빠른 전환 | 정보 밀도 낮음 | ✕ |
| 스크롤 (가로) | 동시 비교 가능 | 스크롤 피로 | 보조 |

모바일 기본: **좌우 스와이프**로 단지 전환 + **상단 고정 탭**으로 카테고리 네비게이션. 테이블 비교는 가로 스크롤로 보조 제공.

### 6-5. 카카오톡 공유 — 비교 목록 카드

List Template (step2 §7 기준) 활용:

```
┌───────────────────────────────────┐
│  🏠 우리 후보 단지 3곳    [FEE500] │ ← 카카오 옐로 헤더
├───────────────────────────────────┤
│  래미안 블레스티지                  │
│  매매 22~26억 · 종합 87점          │
│                          (게이지)  │
├───────────────────────────────────┤
│  헬리오시티                        │
│  매매 18~21억 · 종합 82점          │
│                          (게이지)  │
├───────────────────────────────────┤
│  비교 보드에서 확인하기 →          │ ← CTA
└───────────────────────────────────┘
```

수신자가 탭하면 앱 내 비교 화면으로 딥링크 이동. 앱 미설치 시 디퍼드 딥링크 (Airbridge/Branch) 적용.

---

## 7) 컴포넌트 구조 — React + Tailwind + Recharts

### 7-1. 파일 구조

```
src/
├── components/
│   ├── result/
│   │   ├── ResultScreen.tsx          ← 메인 컨테이너 (뷰 전환)
│   │   ├── ListView.tsx              ← 리스트 뷰
│   │   ├── PropertyCard.tsx          ← 단지 카드
│   │   ├── MapView.tsx               ← 지도 뷰 (네이버 지도 API)
│   │   ├── MapMarker.tsx             ← 점수 라벨 마커
│   │   ├── MapPreviewCard.tsx        ← 마커 클릭 미니 카드
│   │   ├── ScoreVisualization.tsx    ← 점수 시각화 영역
│   │   ├── DetailPage.tsx            ← 단지 상세 페이지
│   │   ├── ComparisonView.tsx        ← 비교 뷰
│   │   └── CompareBar.tsx            ← 하단 sticky 비교 바
│   ├── score/
│   │   ├── CircularGauge.tsx         ← 원형 게이지 (SVG)
│   │   ├── ScoreBar.tsx              ← 수평 바 차트 (Tailwind)
│   │   ├── ScoreBadge.tsx            ← 등급 배지 (A+/A/B/C/D)
│   │   ├── ScoreFactors.tsx          ← 요인 분해 확장 패널
│   │   └── AnimatedNumber.tsx        ← 카운트업 애니메이션
│   ├── safety/
│   │   └── SafetySection.tsx         ← 안전 편의시설 현황 (긍정 프레이밍)
│   ├── compliance/
│   │   ├── DataSourceTags.tsx        ← 출처·기준일 인라인 태그
│   │   ├── DisclaimerFooter.tsx      ← 푸터 면책 고지
│   │   ├── ExternalLinkModal.tsx     ← 외부 이동 확인 모달
│   │   └── FinancialDisclaimer.tsx   ← 금융 시뮬레이션 면책
│   └── share/
│       └── KakaoShareCard.tsx        ← 카카오톡 공유 미리보기
├── hooks/
│   ├── useCompare.ts                 ← 비교 상태 관리 (최대 3개)
│   └── useSort.ts                    ← 정렬 로직
├── constants/
│   ├── scoreColors.ts                ← 5단계 등급 색상·라벨 매핑
│   └── categories.ts                 ← 4개 카테고리 정의
└── types/
    └── property.ts                   ← 단지 데이터 타입 정의
```

### 7-2. 핵심 타입 정의

```typescript
interface Property {
  id: number;
  name: string;
  address: string;
  units: number;
  built: number;
  area: string;
  priceRange: {
    buy: string;
    jeonse: string;
    monthly: string;
  };
  totalScore: number;        // 0~100
  budgetScore: number;       // 0~100
  commuteScore: number;      // 0~100
  childcareScore: number;    // 0~100
  safetyScore: number;       // 0~100
  commute1: number;          // 분
  commute2: number;          // 분
  percentile: number;        // 수도권 상위 N%
  lat: number;
  lng: number;
  commuteFactors: ScoreFactor[];
  safetyData: SafetyMetric[];
}

interface ScoreFactor {
  label: string;
  icon: string;
  delta: number;  // +/- 점수 기여도
}

interface SafetyMetric {
  label: string;
  value: number | string | null;
  avg: number | string | null;
  pct: number;  // 서울시 평균 대비 백분위
}

interface ScoreGrade {
  min: number;
  color: string;
  label: string;  // 매우 좋음 / 좋음 / 보통 / 미흡 / 부족
  badge: string;  // A+ / A / B / C / D
}
```

### 7-3. 핵심 컴포넌트 Tailwind 패턴

**PropertyCard:**

```jsx
<div className="rounded-2xl border border-stone-200 bg-white shadow-sm
                hover:shadow-md hover:-translate-y-0.5 transition-all
                overflow-hidden cursor-pointer">
  {/* 상단: 순위 + 단지명 + 게이지 */}
  <div className="p-4 pb-3 flex items-start justify-between">
    <div className="flex-1">
      <div className="flex items-center gap-2 mb-1.5">
        <span className="w-6 h-6 rounded-lg bg-orange-50 text-orange-500
                         text-xs font-bold flex items-center justify-center">1</span>
        <h3 className="text-base font-bold text-stone-800 tracking-tight">래미안 블레스티지</h3>
      </div>
      <p className="text-xs text-stone-400">서울 서초구 반포동</p>
    </div>
    <CircularGauge score={87} size={64} />
  </div>
  {/* 가격 */}
  <div className="px-4 pb-3 flex gap-3 text-sm">
    <span className="text-stone-400 text-xs">매매</span>
    <span className="font-bold text-stone-800 tabular-nums">22~26억</span>
  </div>
  {/* 카테고리 점수 2×2 그리드 */}
  <div className="px-4 pb-3 grid grid-cols-2 gap-1">
    {/* ... ScoreBadge 인라인 */}
  </div>
  {/* 하단 액션 */}
  <div className="px-4 py-2.5 border-t border-stone-100 flex justify-between items-center">
    <div className="flex gap-3 text-xs text-stone-400">
      <span>🏢 직장1 <strong className="text-stone-800">28분</strong></span>
      <span>🏢 직장2 <strong className="text-stone-800">42분</strong></span>
    </div>
    <button className="px-3 py-1 rounded-lg border border-stone-200 text-xs
                       font-semibold text-stone-400 hover:border-orange-400
                       hover:text-orange-500 transition-all">
      + 비교
    </button>
  </div>
</div>
```

**비교 바 (하단 sticky):**

```jsx
<div className="fixed bottom-0 inset-x-0 bg-stone-50/90 backdrop-blur-xl
                border-t border-stone-200 px-4 py-2.5 z-50
                pb-[max(10px,env(safe-area-inset-bottom))]">
  <div className="max-w-3xl mx-auto flex items-center justify-between">
    <div className="flex items-center gap-2">
      <span className="text-sm font-semibold text-stone-800">비교함 2/3</span>
      {/* 선택된 단지 칩 */}
    </div>
    <button className="px-5 py-2 rounded-xl bg-orange-500 text-white
                       text-sm font-bold">비교하기</button>
  </div>
</div>
```

### 7-4. 외부 라이브러리 의존성

| 라이브러리 | 용도 | 필수 여부 |
| --- | --- | --- |
| React 18+ | UI 프레임워크 | 필수 |
| Tailwind CSS v4 | 스타일링 | 필수 |
| Recharts | 레이더 차트 (비교 뷰) | 필수 |
| Framer Motion | 카운트업·전환 애니메이션 | 선택 (순수 rAF로 대체 가능) |
| Vaul (shadcn/ui Drawer) | 모바일 바텀시트 | 필수 (모바일) |
| naver-maps-js | 네이버 지도 API | 필수 (지도 뷰) |
| Supercluster | 마커 클러스터링 | 필수 (100+ 마커 시) |
| Kakao JS SDK | 카카오톡 공유 | 필수 (공유 기능) |

---

## 8) 마이크로 인터랙션 타이밍

step3 §7 기준 인터랙션 타이밍을 결과 화면에 적용한다.

| 인터랙션 | 지속시간 | 이징 |
| --- | --- | --- |
| 점수 카운트업 | 800ms | easeOutExpo `cubic-bezier(0.16,1,0.3,1)` |
| 수평 바 확장 | 800ms | easeOutExpo |
| 카드 hover 리프트 | 200ms | ease-out |
| 마커 선택 scale | 150ms | `spring(stiffness:400, damping:25)` |
| 미니 프리뷰 카드 slide-up | 200ms | `cubic-bezier(0.33,1,0.68,1)` |
| 비교 바 slide-up | 300ms | `spring(stiffness:300, damping:30)` |
| 토스트 알림 | 200ms in → 2000ms 유지 → 150ms out | ease-out |
| 바텀시트 스냅 | 300~400ms | `spring(stiffness:400, damping:30)` |
| 스켈레톤 shimmer | 1500ms 반복 | linear |

**점수 로딩 시퀀스 (Progressive Reveal):**
1. 0~300ms: 스켈레톤 shimmer
2. 300~500ms: 종합 점수 카운트업 (0→87)
3. 500~800ms: 카테고리 점수 순차 fade-in (stagger 100ms)
4. 800ms+: 수평 바 확장 애니메이션

---

## 9) 컴플라이언스 체크리스트 (결과 화면 전용)

step6 설계 체크리스트에서 결과 화면에 해당하는 항목을 추출하여 검증한다.

### P0 (MVP 출시 전 필수)

- [ ] 결과 화면 전체 UI 텍스트에서 금지 용어 미사용 확인 ("추천", "매물", "알선", "중개" 등)
- [ ] 결과 카드마다 데이터 출처·기준일 인라인 태그 배치
- [ ] 점수 ⓘ → 요인 분해 → 전체 방법론 3단계 계층적 공개 구현
- [ ] 금융 시뮬레이션 면책 메시지 배치 (가격 섹션)
- [ ] 안전 점수를 "안전 편의시설 현황" 프레이밍으로 구현 (빨강 금지)
- [ ] 외부 링크 CTA: "외부 매물 보러가기 ↗ 네이버 부동산" 패턴 적용
- [ ] 외부 이동 확인 모달 구현 (면책 포함)
- [ ] Why-Not (감점 요인) 투명 공개 구현
- [ ] 푸터 면책 고지 상시 노출
- [ ] 비교 뷰에서도 동일 면책·출처 기준 적용

### P1 (출시 후 개선)

- [ ] 카카오톡 공유 카드 내 면책 문구 포함 방식 확정
- [ ] 지도 뷰 통근 경로 오버레이 데이터 레이어 추가
- [ ] 안전 편의시설 데이터 생활안전지도 상업적 활용 범위 최종 확인
- [ ] 외부 매물 링크 딥링크 가능 여부 플랫폼별 확인

---

## 10) Open Issues

1. 비교 뷰에서 가격 항목에 "더 좋음" 하이라이트를 적용할지 여부 — 저가가 반드시 좋은 것은 아니므로 현재 미적용
2. 레이더 차트를 비교 뷰에서만 사용할지, 상세 페이지에도 옵션으로 제공할지 결정 필요
3. 지도 뷰에서 통근 경로 시각화(대중교통 라인 오버레이)의 API 비용·성능 영향 검토
4. 카카오톡 List Template의 아이템 수 제한(최대 3개) 확인 및 4개 이상 비교 시 대응 방안
5. 모바일 비교 뷰에서 스와이프 vs 가로 스크롤 테이블 A/B 테스트 계획 수립
6. "비교함에 추가" 시 토스트 vs 인라인 확인 애니메이션 UX 테스트