<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì§‘ì½•ì‹ í˜¼ ë””ìì¸ ì‹œìŠ¤í…œ â€” Onboarding</title>
  <link rel="stylesheet" href="../design-tokens.css">
  <link rel="stylesheet" href="showcase.css">
  <style>
    .ob-step { display: none; }
    .ob-step.active { display: block; }
    .ob-tab { padding: 6px 14px; border-radius: var(--radius-full); border: 1.5px solid var(--color-border); background: transparent; color: var(--color-on-surface); font-size: 12px; font-family: var(--font-sans); cursor: pointer; white-space: nowrap; transition: all var(--duration-fast) var(--ease-smooth); }
    .ob-tab.active { background: var(--color-brand-500); color: #FFF; border-color: var(--color-brand-500); }
    .ob-card { padding: var(--space-4); background: var(--color-surface); border: 1.5px solid var(--color-border); border-radius: var(--radius-xl); cursor: pointer; transition: all var(--duration-fast) var(--ease-smooth); text-align: center; }
    .ob-card:hover { border-color: var(--color-brand-400); }
    .ob-card.selected { border-color: var(--color-brand-500); background: var(--color-brand-50); }
    .ob-quick-btn { padding: 6px 12px; border-radius: var(--radius-full); border: 1px solid var(--color-border); background: var(--color-surface); font-size: 12px; font-family: var(--font-sans); cursor: pointer; }
    .ob-quick-btn:hover { border-color: var(--color-brand-400); }
    @keyframes analysisFade { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    .analysis-step { opacity: 0; }
    .analysis-step.show { animation: analysisFade 0.5s var(--ease-out-expo) forwards; }
  </style>
</head>
<body>
  <div class="showcase-layout">
    <header class="showcase-header">
      <button class="menu-toggle" onclick="toggleSidebar()">â˜°</button>
      <h1>ì§‘ì½•ì‹ í˜¼ ë””ìì¸ ì‹œìŠ¤í…œ</h1>
      <button class="theme-toggle" id="themeBtn" onclick="toggleDark()">ğŸŒ™ Dark</button>
    </header>
    <nav class="showcase-sidebar" id="sidebar"></nav>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <main class="showcase-content">

      <h1 class="section-header">Onboarding (/search)</h1>
      <p class="section-desc">Â§4.3 â€” Step 1~5 ì „ì²´ ì˜¨ë³´ë”© í”Œë¡œìš°. íƒ­ìœ¼ë¡œ ê° ìŠ¤í… ì „í™˜.</p>

      <!-- Step selector tabs -->
      <div style="display:flex;gap:var(--space-2);margin-bottom:var(--space-4);flex-wrap:wrap;">
        <button class="ob-tab active" onclick="showObStep(0)">Step 0</button>
        <button class="ob-tab" onclick="showObStep(1)">Step 1</button>
        <button class="ob-tab" onclick="showObStep(2)">Step 2</button>
        <button class="ob-tab" onclick="showObStep(3)">Step 3</button>
        <button class="ob-tab" onclick="showObStep(4)">Step 4</button>
        <button class="ob-tab" onclick="showObStep(5)">Step 5</button>
      </div>

      <div class="phone-frame">
        <!-- Status bar -->
        <div style="height:44px;padding:12px 20px 0;display:flex;justify-content:space-between;font-size:12px;font-weight:600;">
          <span>9:41</span>
          <span>ğŸ“¶ ğŸ”‹</span>
        </div>

        <!-- Header with back -->
        <div style="display:flex;align-items:center;padding:var(--space-3) var(--space-4);gap:var(--space-3);">
          <span style="font-size:20px;cursor:pointer;">â†</span>
          <span style="font-size:var(--text-body-sm);font-weight:600;flex:1;">ì¡°ê±´ ì…ë ¥</span>
        </div>

        <!-- Progress bar -->
        <div id="obProgress" style="padding:0 var(--space-4);margin-bottom:var(--space-6);">
          <!-- JS fills this -->
        </div>

        <!-- ===== Step 0: ë™ì˜ ===== -->
        <div class="ob-step active" id="obStep0">
          <div style="padding:0 var(--space-4);flex:1;">
            <div style="font-size:var(--text-title);font-weight:var(--text-title-weight);margin-bottom:var(--space-2);">ì‹œì‘í•˜ê¸° ì „ì—</div>
            <div style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);margin-bottom:var(--space-6);">ë¶„ì„ì— í•„ìš”í•œ ì •ë³´ ìˆ˜ì§‘ ë™ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤</div>

            <div style="display:flex;flex-direction:column;gap:var(--space-3);margin-bottom:var(--space-4);">
              <label style="display:flex;align-items:flex-start;gap:var(--space-3);cursor:pointer;">
                <input type="checkbox" checked style="margin-top:3px;accent-color:var(--color-brand-500);width:18px;height:18px;">
                <div>
                  <div style="font-size:var(--text-body-sm);font-weight:600;">[í•„ìˆ˜] ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜</div>
                  <div style="font-size:11px;color:var(--color-on-surface-muted);">ì§ì¥ ê¶Œì—­, ì˜ˆì‚° ë²”ìœ„ Â· ì„¸ì…˜ ì¢…ë£Œ ì‹œ ì¦‰ì‹œ ì‚­ì œ</div>
                </div>
              </label>
              <label style="display:flex;align-items:flex-start;gap:var(--space-3);cursor:pointer;">
                <input type="checkbox" checked style="margin-top:3px;accent-color:var(--color-brand-500);width:18px;height:18px;">
                <div>
                  <div style="font-size:var(--text-body-sm);font-weight:600;">[í•„ìˆ˜] ìœ„ì¹˜ì •ë³´ ì´ìš© ë™ì˜</div>
                  <div style="font-size:11px;color:var(--color-on-surface-muted);">ì§ì¥ ì£¼ì†Œ â†’ ì¢Œí‘œ ë³€í™˜ Â· ì¢Œí‘œ ë¯¸ì €ì¥</div>
                </div>
              </label>
              <label style="display:flex;align-items:flex-start;gap:var(--space-3);cursor:pointer;">
                <input type="checkbox" style="margin-top:3px;accent-color:var(--color-brand-500);width:18px;height:18px;">
                <div>
                  <div style="font-size:var(--text-body-sm);font-weight:600;">[ì„ íƒ] ì •ë°€ ë¶„ì„ ì¶”ê°€ ë™ì˜</div>
                  <div style="font-size:11px;color:var(--color-on-surface-muted);">ë³´ìœ  í˜„ê¸ˆ, ìƒì„¸ ì†Œë“ Â· ì„¸ì…˜ ì¢…ë£Œ ì‹œ ì¦‰ì‹œ ì‚­ì œ</div>
                </div>
              </label>
            </div>

            <div style="padding:var(--space-3);background:var(--color-brand-50);border-radius:var(--radius-lg);border:1px solid var(--color-brand-200);margin-bottom:var(--space-4);">
              <div style="font-size:var(--text-body-sm);display:flex;align-items:center;gap:var(--space-2);">
                <span>ğŸ”’</span>
                <div>
                  <div style="font-weight:600;color:var(--color-brand-700);">ì…ë ¥ ì •ë³´ëŠ” ë¶„ì„ í›„ ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤</div>
                  <div style="font-size:11px;color:var(--color-brand-600);margin-top:2px;">ì„œë²„ì— ì €ì¥ë˜ì§€ ì•Šìœ¼ë©° ì„¸ì…˜ ì¢…ë£Œ ì‹œ ì™„ì „ ì‚­ì œ</div>
                </div>
              </div>
            </div>
          </div>
          <div style="padding:var(--space-4);border-top:1px solid var(--color-border);background:var(--color-surface);">
            <button class="btn btn-primary" style="width:100%;padding:var(--space-4);font-size:var(--text-body);font-weight:700;">ë™ì˜í•˜ê³  ì‹œì‘í•˜ê¸°</button>
          </div>
        </div>

        <!-- ===== Step 1: ì£¼ê±°í˜•íƒœ + ìë…€ê³„íš ===== -->
        <div class="ob-step" id="obStep1">
          <div style="padding:0 var(--space-4);flex:1;">
            <div style="font-size:var(--text-title);font-weight:var(--text-title-weight);margin-bottom:var(--space-2);">ì–´ë–¤ í˜•íƒœë¥¼ ì°¾ê³  ê³„ì„¸ìš”?</div>
            <div style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);margin-bottom:var(--space-6);">ì„ í˜¸í•˜ëŠ” ì£¼ê±° í˜•íƒœë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</div>

            <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:var(--space-3);margin-bottom:var(--space-6);">
              <div class="ob-card selected">
                <div style="font-size:28px;margin-bottom:var(--space-2);">ğŸ </div>
                <div style="font-size:var(--text-body-sm);font-weight:600;">ë§¤ë§¤</div>
              </div>
              <div class="ob-card">
                <div style="font-size:28px;margin-bottom:var(--space-2);">ğŸ¢</div>
                <div style="font-size:var(--text-body-sm);font-weight:600;">ì „ì„¸</div>
              </div>
              <div class="ob-card">
                <div style="font-size:28px;margin-bottom:var(--space-2);">ğŸ¨</div>
                <div style="font-size:var(--text-body-sm);font-weight:600;">ì›”ì„¸</div>
              </div>
            </div>

            <div style="font-size:var(--text-body-sm);font-weight:600;margin-bottom:var(--space-3);">ìë…€ ê³„íš</div>
            <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:var(--space-3);margin-bottom:var(--space-6);">
              <div class="ob-card">
                <div style="font-size:var(--text-body-sm);font-weight:600;">ê³„íš ì—†ìŒ</div>
              </div>
              <div class="ob-card selected">
                <div style="font-size:var(--text-body-sm);font-weight:600;">1~2ë…„ ë‚´</div>
              </div>
              <div class="ob-card">
                <div style="font-size:var(--text-body-sm);font-weight:600;">ì´ë¯¸ ìˆìŒ</div>
              </div>
            </div>

            <div style="font-size:var(--text-caption);color:var(--color-brand-600);display:flex;align-items:center;gap:4px;">
              ğŸ”’ ì…ë ¥ ì •ë³´ëŠ” ë¶„ì„ í›„ ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤
            </div>
          </div>
          <div style="padding:var(--space-4);border-top:1px solid var(--color-border);background:var(--color-surface);">
            <button class="btn btn-primary" style="width:100%;padding:var(--space-4);font-size:var(--text-body);font-weight:700;">ë‹¤ìŒ</button>
          </div>
        </div>

        <!-- ===== Step 2: ì§ì¥ ì£¼ì†Œ ì…ë ¥ ===== -->
        <div class="ob-step" id="obStep2">
          <div style="padding:0 var(--space-4);flex:1;">
            <div style="font-size:var(--text-title);font-weight:var(--text-title-weight);margin-bottom:var(--space-2);">ì§ì¥ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</div>
            <div style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);margin-bottom:var(--space-6);">ëŒ€ì¤‘êµí†µ í†µê·¼ ì‹œê°„ì„ ë¶„ì„í•©ë‹ˆë‹¤</div>

            <div style="margin-bottom:var(--space-4);">
              <div style="font-size:var(--text-body-sm);font-weight:600;margin-bottom:var(--space-2);">ì§ì¥ 1 (í•„ìˆ˜)</div>
              <div style="display:flex;align-items:center;border:1.5px solid var(--color-brand-500);border-radius:var(--radius-lg);padding:var(--space-3) var(--space-4);background:var(--color-surface);">
                <span style="margin-right:var(--space-2);color:var(--color-on-surface-muted);">ğŸ”</span>
                <span style="font-size:var(--text-body);color:var(--color-on-surface);">ì‚¼ì„±ì—­</span>
              </div>
            </div>

            <div style="margin-bottom:var(--space-4);">
              <div style="font-size:var(--text-body-sm);font-weight:600;margin-bottom:var(--space-2);">ì§ì¥ 2 (ì„ íƒ)</div>
              <div style="display:flex;align-items:center;border:1.5px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-3) var(--space-4);background:var(--color-surface);">
                <span style="margin-right:var(--space-2);color:var(--color-neutral-300);">ğŸ”</span>
                <span style="font-size:var(--text-body);color:var(--color-neutral-400);">ë‘ ë²ˆì§¸ ì§ì¥ì€ ì„ íƒì‚¬í•­ì…ë‹ˆë‹¤</span>
              </div>
            </div>

            <label style="display:flex;align-items:center;gap:var(--space-2);margin-bottom:var(--space-4);cursor:pointer;">
              <input type="checkbox" style="accent-color:var(--color-brand-500);width:16px;height:16px;">
              <span style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);">ì™¸ë²Œì´ì˜ˆìš” (ë°°ìš°ì ì§ì¥ ì—†ìŒ)</span>
            </label>

            <div style="font-size:var(--text-caption);color:var(--color-brand-600);display:flex;align-items:center;gap:4px;">
              ğŸ”’ ì…ë ¥ ì •ë³´ëŠ” ë¶„ì„ í›„ ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤
            </div>
          </div>
          <div style="padding:var(--space-4);border-top:1px solid var(--color-border);background:var(--color-surface);">
            <button class="btn btn-primary" style="width:100%;padding:var(--space-4);font-size:var(--text-body);font-weight:700;">ë‹¤ìŒ</button>
          </div>
        </div>

        <!-- ===== Step 3: í•©ì‚° ì—°ë´‰ + ë³´ìœ  í˜„ê¸ˆ ===== -->
        <div class="ob-step" id="obStep3">
          <div style="padding:0 var(--space-4);flex:1;">
            <div style="font-size:var(--text-title);font-weight:var(--text-title-weight);margin-bottom:var(--space-2);">ì˜ˆì‚° ì •ë³´ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”</div>
            <div style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);margin-bottom:var(--space-6);">ì ì • ì˜ˆì‚° ë²”ìœ„ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤</div>

            <div style="margin-bottom:var(--space-5);">
              <div style="display:flex;align-items:center;gap:var(--space-2);margin-bottom:var(--space-2);">
                <span style="font-size:var(--text-body-sm);font-weight:600;">ë¶€ë¶€ í•©ì‚° ì—°ë´‰</span>
                <button class="why-tooltip-trigger" onclick="toggleTooltip('obWhyIncome')">? ì™œ í•„ìš”í•œê°€ìš”?</button>
              </div>
              <div class="tooltip-popup" id="obWhyIncome" style="margin-bottom:var(--space-2);">
                ì†Œë“ ì •ë³´ëŠ” PIR(ê°€ê²©ì†Œë“ë¹„)ì™€ DTI ê³„ì‚°ì— ì‚¬ìš©ë©ë‹ˆë‹¤. ì„¸ì…˜ ì¢…ë£Œ ì‹œ ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤.
              </div>
              <div style="display:flex;align-items:center;border:1.5px solid var(--color-brand-500);border-radius:var(--radius-lg);padding:var(--space-3) var(--space-4);background:var(--color-surface);">
                <span style="font-size:var(--text-body);font-weight:600;color:var(--color-on-surface);">7,000</span>
                <span style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);margin-left:auto;">ë§Œì›</span>
              </div>
              <div class="korean-amount">7,000ë§Œì›</div>
              <div style="display:flex;gap:var(--space-2);margin-top:var(--space-2);flex-wrap:wrap;">
                <button class="ob-quick-btn">5,000ë§Œ</button>
                <button class="ob-quick-btn">7,000ë§Œ</button>
                <button class="ob-quick-btn">1ì–µ</button>
                <button class="ob-quick-btn">1.5ì–µ</button>
              </div>
            </div>

            <div style="margin-bottom:var(--space-6);">
              <div style="font-size:var(--text-body-sm);font-weight:600;margin-bottom:var(--space-2);">ë³´ìœ  í˜„ê¸ˆ (ìê¸°ìë³¸)</div>
              <div style="display:flex;align-items:center;border:1.5px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-3) var(--space-4);background:var(--color-surface);">
                <span style="font-size:var(--text-body);font-weight:600;color:var(--color-on-surface);">15,000</span>
                <span style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);margin-left:auto;">ë§Œì›</span>
              </div>
              <div class="korean-amount">1ì–µ 5,000ë§Œì›</div>
              <div style="display:flex;gap:var(--space-2);margin-top:var(--space-2);flex-wrap:wrap;">
                <button class="ob-quick-btn">5,000ë§Œ</button>
                <button class="ob-quick-btn">1ì–µ</button>
                <button class="ob-quick-btn">1.5ì–µ</button>
                <button class="ob-quick-btn">2ì–µ</button>
              </div>
            </div>

            <div style="font-size:var(--text-caption);color:var(--color-brand-600);display:flex;align-items:center;gap:4px;">
              ğŸ”’ ì…ë ¥ ì •ë³´ëŠ” ë¶„ì„ í›„ ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤
            </div>
          </div>
          <div style="padding:var(--space-4);border-top:1px solid var(--color-border);background:var(--color-surface);">
            <button class="btn btn-primary" style="width:100%;padding:var(--space-4);font-size:var(--text-body);font-weight:700;">ë‹¤ìŒ</button>
          </div>
        </div>

        <!-- ===== Step 4: ê¸°ì¡´ ëŒ€ì¶œ + ì›” ì£¼ê±°ë¹„ ===== -->
        <div class="ob-step" id="obStep4">
          <div style="padding:0 var(--space-4);flex:1;">
            <div style="font-size:var(--text-title);font-weight:var(--text-title-weight);margin-bottom:var(--space-2);">í˜„ì¬ ëŒ€ì¶œì´ ìˆìœ¼ì‹ ê°€ìš”?</div>
            <div style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);margin-bottom:var(--space-6);">DSR í•œë„ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤ (ì—†ìœ¼ë©´ 0 ì…ë ¥)</div>

            <div style="margin-bottom:var(--space-5);">
              <div style="font-size:var(--text-body-sm);font-weight:600;margin-bottom:var(--space-2);">ê¸°ì¡´ ëŒ€ì¶œ ì”ì•¡</div>
              <div style="display:flex;align-items:center;border:1.5px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-3) var(--space-4);background:var(--color-surface);">
                <span style="font-size:var(--text-body);font-weight:600;color:var(--color-on-surface);">3,000</span>
                <span style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);margin-left:auto;">ë§Œì›</span>
              </div>
              <div style="display:flex;gap:var(--space-2);margin-top:var(--space-2);flex-wrap:wrap;">
                <button class="ob-quick-btn">ì—†ìŒ</button>
                <button class="ob-quick-btn">3,000ë§Œ</button>
                <button class="ob-quick-btn">5,000ë§Œ</button>
                <button class="ob-quick-btn">1ì–µ</button>
              </div>
            </div>

            <div style="margin-bottom:var(--space-6);">
              <div style="font-size:var(--text-body-sm);font-weight:600;margin-bottom:var(--space-2);">í¬ë§ ì›” ì£¼ê±°ë¹„ ìƒí•œ</div>
              <div style="display:flex;align-items:center;border:1.5px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-3) var(--space-4);background:var(--color-surface);">
                <span style="font-size:var(--text-body);font-weight:600;color:var(--color-on-surface);">120</span>
                <span style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);margin-left:auto;">ë§Œì›/ì›”</span>
              </div>
              <div style="display:flex;gap:var(--space-2);margin-top:var(--space-2);flex-wrap:wrap;">
                <button class="ob-quick-btn">80ë§Œ</button>
                <button class="ob-quick-btn">100ë§Œ</button>
                <button class="ob-quick-btn">120ë§Œ</button>
                <button class="ob-quick-btn">150ë§Œ</button>
              </div>
            </div>

            <div style="font-size:var(--text-caption);color:var(--color-brand-600);display:flex;align-items:center;gap:4px;">
              ğŸ”’ ì…ë ¥ ì •ë³´ëŠ” ë¶„ì„ í›„ ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤
            </div>
          </div>
          <div style="padding:var(--space-4);border-top:1px solid var(--color-border);background:var(--color-surface);">
            <button class="btn btn-primary" style="width:100%;padding:var(--space-4);font-size:var(--text-body);font-weight:700;" onclick="showObStep(5)">ë¶„ì„ ì‹œì‘</button>
          </div>
        </div>

        <!-- ===== Step 5: ë¶„ì„ ì¤‘ ì‹œí€€ìŠ¤ (ê³ ë„í™”) ===== -->
        <div class="ob-step" id="obStep5">
          <div style="padding:var(--space-6) var(--space-4);text-align:center;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:500px;">
            <!-- Circular Progress Ring -->
            <div class="analysis-progress-ring" style="margin-bottom:var(--space-4);">
              <svg width="120" height="120" viewBox="0 0 120 120">
                <circle class="ring-track" cx="60" cy="60" r="52"/>
                <circle class="ring-fill" cx="60" cy="60" r="52" id="analysisRing"
                  stroke-dasharray="326.73"
                  style="stroke-dashoffset:326.73;"/>
              </svg>
              <div class="ring-text" id="analysisPercent">0%</div>
            </div>

            <div style="font-size:var(--text-title);font-weight:var(--text-title-weight);margin-bottom:var(--space-2);">ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤</div>
            <div style="font-size:var(--text-body-sm);color:var(--color-on-surface-muted);margin-bottom:var(--space-6);">ì…ë ¥í•˜ì‹  ì¡°ê±´ìœ¼ë¡œ ë§ì¶¤ ë‹¨ì§€ë¥¼ ì°¾ê³  ìˆì–´ìš”</div>

            <div style="display:flex;flex-direction:column;gap:var(--space-4);text-align:left;width:100%;max-width:280px;">
              <div class="analysis-step" id="aStep1" style="display:flex;align-items:center;gap:var(--space-3);">
                <span style="font-size:20px;width:28px;text-align:center;" id="aIcon1">ğŸ’°</span>
                <div>
                  <div style="font-size:var(--text-body-sm);font-weight:600;">ì˜ˆì‚° ë²”ìœ„ ë¶„ì„</div>
                  <div style="font-size:var(--text-caption);color:var(--color-on-surface-muted);">DSR, ìê¸°ìë³¸ ê¸°ë°˜ í•œë„ ê³„ì‚°</div>
                </div>
              </div>
              <div class="analysis-step" id="aStep2" style="display:flex;align-items:center;gap:var(--space-3);">
                <span style="font-size:20px;width:28px;text-align:center;" id="aIcon2">ğŸš‡</span>
                <div>
                  <div style="font-size:var(--text-body-sm);font-weight:600;">í†µê·¼ ê²½ë¡œ ë¶„ì„</div>
                  <div style="font-size:var(--text-caption);color:var(--color-on-surface-muted);">ëŒ€ì¤‘êµí†µ ìµœì  ê²½ë¡œ íƒìƒ‰</div>
                </div>
              </div>
              <div class="analysis-step" id="aStep3" style="display:flex;align-items:center;gap:var(--space-3);">
                <span style="font-size:20px;width:28px;text-align:center;" id="aIcon3">ğŸ›¡ï¸</span>
                <div>
                  <div style="font-size:var(--text-body-sm);font-weight:600;">ìƒí™œ í™˜ê²½ í‰ê°€</div>
                  <div style="font-size:var(--text-caption);color:var(--color-on-surface-muted);">ë³´ìœ¡ / ì•ˆì „ ì‹œì„¤ ë°˜ê²½ ë¶„ì„</div>
                </div>
              </div>
              <div class="analysis-step" id="aStep4" style="display:flex;align-items:center;gap:var(--space-3);">
                <span style="font-size:20px;width:28px;text-align:center;" id="aIcon4">âœ¨</span>
                <div>
                  <div style="font-size:var(--text-body-sm);font-weight:600;">ì¢…í•© ì ìˆ˜ ì‚°ì¶œ</div>
                  <div style="font-size:var(--text-caption);color:var(--color-on-surface-muted);">4ê°œ ì¹´í…Œê³ ë¦¬ ê°€ì¤‘ í‰ê· </div>
                </div>
              </div>
            </div>

            <div id="analysisDoneBtn" style="margin-top:var(--space-6);display:none;">
              <button class="btn btn-primary" style="padding:var(--space-3) var(--space-6);font-size:var(--text-body);font-weight:700;">ê²°ê³¼ ë³´ê¸°</button>
            </div>
          </div>
        </div>
      </div>

    </main>
    <button class="fullscreen-toggle" id="fullscreenBtn" onclick="toggleFullscreen()">â›¶ í’€ìŠ¤í¬ë¦°</button>
  </div>
  <script src="showcase.js"></script>
  <script>
    var currentObStep = 0;

    function showObStep(step) {
      currentObStep = step;
      for (var i = 0; i <= 5; i++) {
        var el = document.getElementById('obStep' + i);
        if (el) el.classList.toggle('active', i === step);
      }
      // Update tabs (tab index matches step number directly)
      var tabs = document.querySelectorAll('.ob-tab');
      for (var j = 0; j < tabs.length; j++) {
        tabs[j].classList.toggle('active', j === step);
      }
      updateProgress(step);

      // If step 5, start analysis animation
      if (step === 5) startAnalysisSequence();
    }

    function updateProgress(step) {
      // Step 0 is consent â€” hide progress bar
      if (step === 0) {
        document.getElementById('obProgress').innerHTML = '<div style="font-size:11px;color:var(--color-on-surface-muted);text-align:center;">ì„œë¹„ìŠ¤ ì´ìš© ë™ì˜</div>';
        return;
      }
      var html = '<div style="display:flex;align-items:center;gap:0;margin-bottom:var(--space-2);">';
      for (var i = 1; i <= 4; i++) {
        var bg, color, text;
        if (i < step || step === 5) { bg = 'var(--color-brand-500)'; color = '#FFF'; text = '\u2713'; }
        else if (i === step) { bg = 'var(--color-brand-500)'; color = '#FFF'; text = i; }
        else { bg = 'var(--color-neutral-200)'; color = 'var(--color-on-surface-muted)'; text = i; }
        html += '<div style="display:flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:50%;background:' + bg + ';color:' + color + ';font-size:11px;font-weight:700;">' + text + '</div>';
        if (i < 4) {
          var lineBg = (i < step || step === 5) ? 'var(--color-brand-500)' : 'var(--color-neutral-200)';
          html += '<div style="flex:1;height:2px;background:' + lineBg + ';"></div>';
        }
      }
      html += '</div>';
      var stepLabel = step <= 4 ? 'Step ' + step + ' of 4' : '\uBD84\uC11D \uC911...';
      var stepNames = ['', '\uC8FC\uAC70 \uD615\uD0DC', '\uCD9C\uD1F4\uADFC \uC815\uBCF4', '\uC608\uC0B0 \uC815\uBCF4', '\uB300\uCD9C \uC815\uBCF4', '\uBD84\uC11D \uC911'];
      html += '<div style="font-size:11px;color:var(--color-on-surface-muted);text-align:center;">' + stepLabel + ' \xB7 ' + stepNames[step] + '</div>';
      document.getElementById('obProgress').innerHTML = html;
    }

    function startAnalysisSequence() {
      var steps = ['aStep1', 'aStep2', 'aStep3', 'aStep4'];
      var icons = ['aIcon1', 'aIcon2', 'aIcon3', 'aIcon4'];
      var ring = document.getElementById('analysisRing');
      var pct = document.getElementById('analysisPercent');
      var doneBtn = document.getElementById('analysisDoneBtn');
      var circumference = 326.73;

      // Reset
      for (var i = 0; i < steps.length; i++) {
        document.getElementById(steps[i]).classList.remove('show');
        // Reset icons
        var iconEl = document.getElementById(icons[i]);
        if (i === 0 && iconEl) iconEl.textContent = '\uD83D\uDCB0';
        if (i === 1 && iconEl) iconEl.textContent = '\uD83D\uDE87';
        if (i === 2 && iconEl) iconEl.textContent = '\uD83D\uDEE1\uFE0F';
        if (i === 3 && iconEl) iconEl.textContent = '\u2728';
      }
      if (ring) ring.style.strokeDashoffset = circumference;
      if (pct) pct.textContent = '0%';
      if (doneBtn) doneBtn.style.display = 'none';

      var percents = [25, 50, 75, 100];
      for (var j = 0; j < steps.length; j++) {
        (function(idx) {
          setTimeout(function() {
            document.getElementById(steps[idx]).classList.add('show');
            // Update ring progress
            var offset = circumference - (circumference * percents[idx] / 100);
            if (ring) ring.style.strokeDashoffset = offset;
            if (pct) pct.textContent = percents[idx] + '%';
            // Mark previous steps as done
            for (var k = 0; k < idx; k++) {
              var prevIcon = document.getElementById(icons[k]);
              if (prevIcon) prevIcon.textContent = '\u2713';
            }
            // On last step, show done button
            if (idx === steps.length - 1) {
              setTimeout(function() {
                var lastIcon = document.getElementById(icons[steps.length - 1]);
                if (lastIcon) lastIcon.textContent = '\u2713';
                if (doneBtn) doneBtn.style.display = 'block';
              }, 600);
            }
          }, (idx + 1) * 800);
        })(j);
      }
    }

    // Initial progress render
    document.addEventListener('DOMContentLoaded', function() {
      updateProgress(0);
    });
  </script>
</body>
</html>
